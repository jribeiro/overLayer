/* overLayer v0.2 | MIT & BSD
 * Joao C. Ribeiro
 */
(function(a){a.fn.overLayer=function(b){function d(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c],f=e.offset(),g=e.outerHeight(),h=e.outerWidth(),i=f.left,j=i+h,k=f.top,l=k+g,m=b.pageX,n=b.pageY;if(m>=i&&j>m&&n>=k&&l>n)return{position:c,elem:e}}return!1}function e(a,b,d){var e=[];for(initialIndex=b,len=a.length,i=0,adder=1,n=1;len>i;){if(a[b]===void 0)return e;e[i]=a[b],b=initialIndex+adder*n,i+=1,adder=-adder,0>adder&&(n+=1)}c.elementsArr=e.length===d.length?e:d}var c=a.extend({},{elementsArr:void 0,hoverClass:"hover",mode:"array",link:!0},b);return console.log(typeof c.selector),this.each(function(){if(console.log(a(this)),c.selector===void 0&&c.elementsArr===void 0)return!1;var b=c.elementsArr.slice(0),g={};overObj=a("."+c.hoverClass),a(this).on("mousemove",function(f){if(g=d(c.elementsArr,f),console.log("over"),console.log(g),g){if(g.elem.hasClass(c.hoverClass))return;a(".hover").removeClass(c.hoverClass),g.elem.addClass(c.hoverClass),a("body").css("cursor","pointer"),e(c.elementsArr,g.position,b)}else overObj.removeClass(c.hoverClass),c.link&&a("body").css("cursor","auto")}),a(this).mouseout(function(){a(".hover").removeClass(c.hoverClass)}),c.link&&a(this).on("click",function(a){g=d(c.elementsArr,a),g&&(e(c.elementsArr,g.position,b),g.elem.click())})})}})(jQuery);